<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>GLOW - Geometric Light Oscillation Workstation</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸŒ€</text></svg>">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inconsolata:wght@200..900&display=swap" rel="stylesheet">
    <link rel="manifest" href="assets/manifest.json">
    <meta name="theme-color" content="#000000">
    <!-- CSS Modules -->
    <link rel="stylesheet" href="src/styles/base.css">
    <link rel="stylesheet" href="src/styles/ui-components.css">
    <link rel="stylesheet" href="src/styles/side-panel.css">
    <link rel="stylesheet" href="src/styles/tablet-controls.css">
    <link rel="stylesheet" href="src/styles/crt-effects.css">
    <link rel="stylesheet" href="src/styles/modals.css">
</head>
<body>
    <div id="logoContainer">
        <glow-logo></glow-logo>
        <h3>Geometric Light Oscillation Workstation</h3>
        <div class="logo-buttons">
            <button id="startButton">
                <ion-icon name="play-outline"></ion-icon>
                Start
            </button>
            <button id="openButtonLogo">
                <ion-icon name="shapes-outline"></ion-icon>
                Open
            </button>
        </div>
    </div>
    
    <div id="projectNameDisplay" class="project-name-display" style="display: none;">
        <input type="text" id="projectNameText" value="Untitled Project" class="project-name-input" />
    </div>
    <button title="Tracks & Tablet" id="panelToggleButton" class="panel-toggle-btn" style="display: none;">
      <ion-icon title="Tracks & Tablet" name="cube-outline"></ion-icon>
    </button>
    <button title="Open Project" id="openButton" class="open-toggle-btn" style="display: none;">
      <ion-icon title="Open Project" name="shapes-outline"></ion-icon>
    </button>
    <button title="Save Scene" id="saveButton" class="save-toggle-btn" style="display: none;">
      <ion-icon title="Save Scene" name="save-outline"></ion-icon>
    </button>
    <button title="About" id="infoButton" class="info-toggle-btn" style="display: none;">
      <ion-icon name="triangle-outline"></ion-icon>
    </button>
    <canvas id="canvas"></canvas>
    <canvas id="tabletCanvas"></canvas>
    <div id="noiseOverlay" class="noise-overlay"></div>
    <div id="canvasMessage" class="canvas-message" style="display: none;">
        <h3>Pick a <strong>MIDI track</strong> and a <strong>Luminode</strong>. <br /> <br /> 
            <span>The geometry of light will unfold here</span>
            </h3>
    </div>
    
    <!-- Info Modal -->
    <div id="infoModal" class="info-modal">
        <div class="info-modal-content">
            <div class="info-modal-header">
                <h2>G.L.O.W.</h2>
                <button id="infoModalClose" class="info-modal-close">
                    <ion-icon name="close-outline"></ion-icon>
                </button>
            </div>
            <div id="infoModalBody" class="info-modal-body">
                <!-- Content will be loaded here -->
            </div>
        </div>
    </div>
    
    <!-- Save Dialog -->
    <div id="saveDialog" class="save-dialog">
        <div class="save-dialog-content">
            <div class="save-dialog-header">
                <h3>Save Scene</h3>
                <button id="saveDialogClose" class="save-dialog-close">
                    <ion-icon name="close-outline"></ion-icon>
                </button>
            </div>
            <div class="save-dialog-body">
                <div class="scene-name-input">
                    <input 
                        type="text" 
                        id="projectName" 
                        placeholder="Enter scene name" 
                        maxlength="50"
                        autocomplete="off"
                    />
                    <span class="file-extension">.glow</span>
                </div>
            </div>
            <div class="save-dialog-footer">
                <button id="saveDialogCancel" class="btn-secondary">Cancel</button>
                <button id="saveDialogSave" class="btn-primary">Save Scene</button>
            </div>
        </div>
    </div>
    
    <!-- File Picker Dialog -->
    <div id="filePickerDialog" class="file-picker-dialog">
        <div class="file-picker-dialog-content">
            <div class="file-picker-dialog-header">
                <h3>Open Project</h3>
                <button id="filePickerDialogClose" class="file-picker-dialog-close">
                    <ion-icon name="close-outline"></ion-icon>
                </button>
            </div>
            <div class="file-picker-dialog-body">
                <p>Select a .glow project file to load</p>
                <div class="file-selection-area">
                    <button id="filePickerDialogBrowse" class="btn-primary">
                        <ion-icon name="folder-outline"></ion-icon>
                        Browse Files
                    </button>
                </div>
            </div>
            <div class="file-picker-dialog-footer">
                <button id="filePickerDialogCancel" class="btn-secondary">Cancel</button>
            </div>
        </div>
    </div>
    
    <script type="module" src="src/glow-logo.js"></script>
    <script type="module" src="src/main.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/grained@0.0.2/grained.min.js"></script>
    
    <!-- Ionicons - Using version 5 with inline styles -->
    <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
    <style>
      ion-icon {
        font-size: 1.2em;
        vertical-align: middle;
      }
    </style>
</body>
</html>
